{{- $img := .Page.Resources.Get .Destination | default (resources.Get .Destination) -}}
{{- if $img -}}
{{- $optimized := $img.Resize "800x webp q70" -}}
<figure>
    <img src="{{ $optimized.RelPermalink }}" width="{{ $optimized.Width }}" height="{{ $optimized.Height }}"
        alt="{{ .Text }}" loading="lazy" decoding="async" style="width: 100%; height: auto; border-radius: 8px;">
</figure>
{{- else -}}
<img src="{{ .Destination | safeURL }}" alt="{{ .Text }}" loading="lazy">
{{- end -}}