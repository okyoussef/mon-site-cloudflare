<!DOCTYPE html>
<html lang="{{ or site.Language.LanguageCode site.Language.Lang }}">

<head>
  {{ partial "head.html" . }}
  {{ partial "seo-schema.html" . }}
</head>

<body>
  <header>
    {{ partial "header.html" . }}
  </header>

  <main>
    <div>
      {{ block "main" . }}{{ end }}
    </div>
  </main>

  <footer>
    {{ partial "footer.html" . }}
  </footer>

  {{/* ========================================
  OPTIMISATION : DEFER JAVASCRIPT
  ======================================== */}}
  {{ $js := resources.Get "js/main.js" | resources.Minify | resources.Fingerprint }}
  <script src="{{ $js.RelPermalink }}" defer></script>

  {{/* Script pour réafficher le footer une fois le JS chargé */}}
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      document.querySelector('.main-nav').style.opacity = '1';
      var footer = document.querySelector('.footer-background');
      if (footer) footer.style.display = 'block';
    });
  </script>
</body>

</html>